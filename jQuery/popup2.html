<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>

        $(function(){

            $('.open').click(function(){
                bl();
                var tg = '.'+$(this).attr('id');
                var w = $(tg).width();
                var h = $(tg).height();
                $(tg).show().css({
                    left:'50%',
                    top:function(){
                        return $(window).scrollTop() + 'px'
                    },
                    marginLeft:function(){
                        return '-'+(w / 2)+"px"
                    }
                 });
              })

            var close = function(){

                $('.pop').hide();
                $('.bl').fadeOut(function(){
                    $(this).remove();
                })

            }

            $('body').on('click','.bl',close);
            $('.close').click(close);

            function bl(){
                $('body').prepend('<div class="bl"></div>');
            }


        })

    </script>

    <style>
        *{
            margin: 0;
            padding: 0;
        }

        body{
            background: #CCC;
        }

        .wrap{
            width:800px;
            height:1500px;
            border:1px #333 solid;
            margin:50px auto;
            background-color: #fff;
        }
        button.open{margin-top:500px;}
        .pop{
            border:1px #F00 solid;
            position:absolute;
            display:none;
            background-color: #fff;
        }


        .popup1{width:200px; height:300px;}
        .popup2{width:300px; height:200px;}
        .popup3{width:500px; height:500px;}

        .bl{
            position:fixed;
            width:100%;
            height:100%;
            left:0;
            top:0;
            background-color: rgba(0,0,0,.8);
        }
    </style>

</head>
<body>

    <div class="wrap">

        <button class="open" id="popup1">팝업나와1</button>
        <button class="open" id="popup2">팝업나와2</button>
        <button class="open" id="popup3">팝업나와3</button>


    </div>


    <div class="pop popup1">
        <button class="close">닫기</button>
        <h1>팝업1</h1>
    </div>
    <div class="pop popup2">
        <button class="close">닫기</button>
        <h1>팝업2</h1>
    </div>
    <div class="pop popup3">
        <button class="close">닫기</button>
        <h1>팝업3</h1>
    </div>

</body>
</html>
